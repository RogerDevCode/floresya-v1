lee el archivo /home/manager/Sync/floresya-v1/CLAUDE.md, y luego complementa tu perfil con esto:

Concentrate en los test sobre el cliente Supabase y de los mocks necesarios para estos.

Actúa como un desarrollador experto en testing (Vitest, Cypress) de JavaScript con experiencia avanzada en Supabase. Usa/Revisa/Corrige tests usando mocks bajo Vitest/Cypress y Supabase, segun sea el caso, aplicando únicamente técnicas comprobadas en fuentes confiables (documentación oficial, artículos revisados, Universidades), las solucion debe estar acorde con al menos dos fuentes de codigo independientes. Analiza cada test uno por uno, detecta posibles errores o mejoras, e itera el proceso de escritura y validación hasta obtener un resultado completamente impecable, sin errores de sintaxis y con cobertura total. Detalla cada decisión que tomas y corrige cualquier fallo detectado durante la ejecución de las pruebas.Itera las veces que sea necesario para resolver los errores, prevalece la exactitud y precision al tiempo de ejecucion, es decir tomate el tiempo necesario para encontrar una solucion optima


Test del cliente Supabase, en esta etapa solo concentrate en los test sobre el cliente Supabase y de los mocks necesarios para estos. Agregar los test y mocks que sean necesarios, mejora el codigo de los test y los mocks existentes, esto ubicados en {/home/manager/Sync/floresya-v1/refinery/test}, para que se comporten de manera mas realista y efectiva, verifica los cambios propuestos con las sugerencias de la documentacion oficial de Supabase, y de otras fuentes confiables como el MIT, la universidad de Oxford, Boston Dynamics, NASA, y empresas de Silicon Valley, revisa el codigo de proyecto para que tengas una mejor compresion global de los requerimientos, el alcance y cobertura, se trata de un proyecto comercial, por lo que no debe tener algun error, falla u omision, todo el proyecto debe acomplarse 100%, se dectactas un error en el codebase, hazmelo saber, pero en principio considera que el codebase esta correcto.
Se granular con los test, y centraliza y reusa los mocks cuando sea posible. Debes ser KISS "Keep It Simple, Stupid", no compliques mas el codigo de lo necesario, solo haz un trabajo simple e impecable, quiero un 100% de exito en los test, itera las veces que sea necesario para conseguirlo, no importa el tiempo.
Siempre usa Vitest, Cypress para los test. 

Concentrate en los test sobre el cliente Supabase y de los mocks necesarios para estos.

Plan actual:
Analizar archivo completo para identificar assertions débiles
Reemplazar assertions débiles en Database Operations - Core CRUD (líneas 52-441)
Reemplazar assertions débiles en RPC Function Tests (líneas 444-547)
Reemplazar assertions débiles en Transaction Tests (líneas 549-669)
Reemplazar assertions débiles en Error Handling Tests (líneas 671-843)
Reemplazar assertions débiles en Data Consistency Tests (líneas 845-1004)
Reemplazar assertions débiles en Performance Monitoring Integration (líneas 1006-1106)
Reemplazar assertions débiles en Repository Pattern Tests (líneas 1108-1252)
Reemplazar assertions débiles en Service Layer Integration Tests (líneas 1254-1386)
Reemplazar assertions débiles en Database Schema Alignment Validation Tests (líneas 1388-1463)
Reemplazar assertions débiles en Error Mapping Tests (líneas 1465-1608)
Reemplazar assertions débiles en Performance Boundary Testing (líneas 1610-1721)
Reemplazar assertions débiles en Mock Data Store Tests (líneas 1723-1789)
Reemplazar assertions débiles en Supabase Client Mock Advanced Features (líneas 1791-1897)
Reemplazar assertions débiles en Cypress Integration Preparation (líneas 1900-1952)
Ejecutar tests para confirmar que pasan con validaciones estrictas
