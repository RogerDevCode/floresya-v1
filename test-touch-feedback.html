<!doctype html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Touch Feedback Test - FloresYa</title>
    <link rel="stylesheet" href="./public/css/styles.css" />
    <style>
      .test-section {
        margin: 2rem 0;
        padding: 1.5rem;
        border: 1px solid #e5e7eb;
        border-radius: 0.75rem;
      }

      .test-title {
        font-size: 1.25rem;
        font-weight: 700;
        margin-bottom: 1rem;
        color: var(--floresya-primary-dark);
      }

      .test-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
        gap: 1rem;
      }

      .test-item {
        padding: 1rem;
        border: 1px solid #e5e7eb;
        border-radius: 0.5rem;
        text-align: center;
      }

      .test-description {
        font-size: 0.875rem;
        color: #6b7280;
        margin-top: 0.5rem;
      }

      .form-test {
        max-width: 400px;
        margin: 0 auto;
      }

      .form-group {
        margin-bottom: 1rem;
      }

      .form-group label {
        display: block;
        margin-bottom: 0.5rem;
        font-weight: 500;
      }

      .form-group input,
      .form-group select,
      .form-group textarea {
        width: 100%;
        padding: 0.75rem;
        border: 1px solid #d1d5db;
        border-radius: 0.375rem;
      }

      .notification {
        position: fixed;
        bottom: 1rem;
        right: 1rem;
        padding: 1rem;
        background: var(--floresya-primary);
        color: white;
        border-radius: 0.5rem;
        transform: translateX(120%);
        transition: transform 0.3s ease;
        z-index: 100;
      }

      .notification.show {
        transform: translateX(0);
      }
    </style>
  </head>
  <body>
    <div class="container">
      <h1 class="text-center text-3xl font-bold my-8">Touch Feedback Test</h1>

      <!-- Buttons Section -->
      <div class="test-section">
        <h2 class="test-title">Buttons</h2>
        <div class="test-grid">
          <div class="test-item">
            <button class="btn-primary">Primary Button</button>
            <p class="test-description">Ripple effect with haptic feedback</p>
          </div>
          <div class="test-item">
            <button class="btn-secondary">Secondary Button</button>
            <p class="test-description">Ripple effect with haptic feedback</p>
          </div>
          <div class="test-item">
            <button class="btn-warning">Warning Button</button>
            <p class="test-description">Scale effect</p>
          </div>
          <div class="test-item">
            <button class="btn-admin">Admin Button</button>
            <p class="test-description">Scale effect</p>
          </div>
        </div>
      </div>

      <!-- Navigation Section -->
      <div class="test-section">
        <h2 class="test-title">Navigation</h2>
        <div class="test-grid">
          <div class="test-item">
            <a href="#" class="nav-link">Navigation Link</a>
            <p class="test-description">Highlight effect</p>
          </div>
          <div class="test-item">
            <button id="hamburger-menu-btn" class="mobile-menu-toggle">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="24"
                height="24"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
              >
                <line x1="3" y1="12" x2="21" y2="12"></line>
                <line x1="3" y1="6" x2="21" y2="6"></line>
                <line x1="3" y1="18" x2="21" y2="18"></line>
              </svg>
            </button>
            <p class="test-description">Hamburger menu with scale effect</p>
          </div>
          <div class="test-item">
            <a href="#" class="cart-icon nav-icon">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="24"
                height="24"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
              >
                <circle cx="9" cy="21" r="1"></circle>
                <circle cx="20" cy="21" r="1"></circle>
                <path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"></path>
              </svg>
              <span class="cart-badge">0</span>
            </a>
            <p class="test-description">Cart icon with badge feedback</p>
          </div>
        </div>
      </div>

      <!-- Form Elements Section -->
      <div class="test-section">
        <h2 class="test-title">Form Elements</h2>
        <div class="form-test">
          <div class="form-group">
            <label for="text-input">Text Input</label>
            <input type="text" id="text-input" placeholder="Enter text here" />
          </div>
          <div class="form-group">
            <label for="email-input">Email Input</label>
            <input type="email" id="email-input" placeholder="Enter email here" />
          </div>
          <div class="form-group">
            <label for="select-input">Select Input</label>
            <select id="select-input">
              <option value="">Select an option</option>
              <option value="1">Option 1</option>
              <option value="2">Option 2</option>
              <option value="3">Option 3</option>
            </select>
          </div>
          <div class="form-group">
            <label for="textarea-input">Textarea</label>
            <textarea id="textarea-input" rows="3" placeholder="Enter message here"></textarea>
          </div>
          <div class="form-group">
            <label>Checkbox</label>
            <input type="checkbox" id="checkbox-input" />
            <label for="checkbox-input">I agree to terms</label>
          </div>
          <div class="form-group">
            <label>Radio Buttons</label>
            <input type="radio" id="radio1" name="radio-group" value="1" />
            <label for="radio1">Option 1</label><br />
            <input type="radio" id="radio2" name="radio-group" value="2" />
            <label for="radio2">Option 2</label>
          </div>
          <div class="form-group">
            <label for="file-input">File Input</label>
            <input type="file" id="file-input" />
          </div>
        </div>
      </div>

      <!-- Product Cards Section -->
      <div class="test-section">
        <h2 class="test-title">Product Cards</h2>
        <div class="test-grid">
          <div class="test-item product-card">
            <div class="aspect-square bg-gray-200 mb-4"></div>
            <h3>Test Product</h3>
            <p class="text-pink-600 font-bold">$25.00</p>
            <div class="flex items-center justify-center gap-2 mt-4">
              <button
                class="quick-view-btn bg-gray-300 hover:bg-gray-400 text-gray-900 p-2 rounded-full"
              >
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="16"
                  height="16"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                >
                  <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path>
                  <circle cx="12" cy="12" r="3"></circle>
                </svg>
              </button>
              <button
                class="add-to-cart-btn bg-pink-600 hover:bg-pink-700 text-white p-2 rounded-full"
              >
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="16"
                  height="16"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                >
                  <circle cx="9" cy="21" r="1"></circle>
                  <circle cx="20" cy="21" r="1"></circle>
                  <path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"></path>
                </svg>
              </button>
            </div>
          </div>
        </div>
      </div>

      <!-- Quantity Controls Section -->
      <div class="test-section">
        <h2 class="test-title">Quantity Controls</h2>
        <div class="quantity-control">
          <button class="qty-minus">-</button>
          <input type="number" class="qty-input" value="1" min="1" max="10" />
          <button class="qty-plus">+</button>
        </div>
      </div>

      <!-- Carousel Section -->
      <div class="test-section">
        <h2 class="test-title">Image Carousel</h2>
        <div class="product-image-container" style="width: 300px; height: 300px; margin: 0 auto">
          <div class="carousel-images-wrapper">
            <img
              src="https://picsum.photos/seed/flower1/300/300.jpg"
              alt="Test Image 1"
              class="product-carousel-image"
            />
          </div>
          <div class="carousel-indicators">
            <button class="indicator-dot active"></button>
            <button class="indicator-dot"></button>
            <button class="indicator-dot"></button>
          </div>
          <button class="carousel-nav prev">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="16"
              height="16"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
            >
              <polyline points="15 18 9 12 15 6"></polyline>
            </svg>
          </button>
          <button class="carousel-nav next">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="16"
              height="16"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
            >
              <polyline points="9 18 15 12 9 6"></polyline>
            </svg>
          </button>
        </div>
      </div>
    </div>

    <div id="notification" class="notification">Touch feedback triggered!</div>

    <script type="module">
      import { TouchFeedback, initTouchFeedback } from './public/js/shared/touchFeedback.js'
      import {
        initFormTouchFeedback,
        initQuantityTouchFeedback
      } from './public/js/shared/formTouchFeedback.js'
      import { initCartTouchFeedback } from './public/js/shared/cart.js'
      import { createImageCarousel } from './public/js/components/imageCarousel.js'
      import { HamburgerMenu } from './public/js/components/hamburgerMenu.js'

      // Initialize all touch feedback
      document.addEventListener('DOMContentLoaded', () => {
        console.log('🧪 Initializing touch feedback tests...')

        // Initialize form touch feedback
        initFormTouchFeedback()

        // Initialize quantity controls
        initQuantityTouchFeedback()

        // Initialize cart touch feedback
        initCartTouchFeedback()

        // Initialize hamburger menu
        const hamburgerMenu = new HamburgerMenu({
          containerSelector: '.test-item',
          buttonId: 'hamburger-menu-btn'
        })
        hamburgerMenu.init()

        // Initialize image carousel
        const carouselContainer = document.querySelector('.product-image-container')
        if (carouselContainer) {
          createImageCarousel(carouselContainer, 1)
        }

        // Initialize touch feedback for buttons
        initTouchFeedback('.btn-primary')
        initTouchFeedback('.btn-secondary')
        initTouchFeedback('.btn-warning')
        initTouchFeedback('.btn-admin')

        // Initialize touch feedback for navigation links
        initTouchFeedback('.nav-link')

        // Initialize touch feedback for cart icon
        initTouchFeedback('.cart-icon')

        // Initialize touch feedback for product card buttons
        initTouchFeedback('.quick-view-btn')
        initTouchFeedback('.add-to-cart-btn')

        // Show notification on touch feedback
        const notification = document.getElementById('notification')

        // Override TouchFeedback to show notification
        const originalTriggerFeedback = TouchFeedback.prototype.triggerFeedback
        TouchFeedback.prototype.triggerFeedback = function (type) {
          originalTriggerFeedback.call(this, type)
          showNotification(`${type} feedback triggered!`)
        }

        function showNotification(message) {
          notification.textContent = message
          notification.classList.add('show')
          setTimeout(() => {
            notification.classList.remove('show')
          }, 2000)
        }

        console.log('✅ Touch feedback tests initialized successfully!')
      })
    </script>
  </body>
</html>
