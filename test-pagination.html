<!doctype html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Test Pagination</title>
  </head>
  <body>
    <h1>Testing Users API Pagination</h1>
    <div id="results"></div>

    <script>
      async function testPagination() {
        const resultsDiv = document.getElementById('results')

        try {
          // Test page 1
          const response1 = await fetch('/api/users?limit=5&offset=0')
          const data1 = await response1.json()
          resultsDiv.innerHTML += '<h2>Page 1 (limit=5, offset=0):</h2>'
          resultsDiv.innerHTML += `<pre>${JSON.stringify(data1, null, 2)}</pre>`

          // Test page 2
          const response2 = await fetch('/api/users?limit=5&offset=5')
          const data2 = await response2.json()
          resultsDiv.innerHTML += '<h2>Page 2 (limit=5, offset=5):</h2>'
          resultsDiv.innerHTML += `<pre>${JSON.stringify(data2, null, 2)}</pre>`

          // Test search with pagination
          const response3 = await fetch('/api/users?limit=3&offset=0&search=admin')
          const data3 = await response3.json()
          resultsDiv.innerHTML += '<h2>Search "admin" (limit=3, offset=0):</h2>'
          resultsDiv.innerHTML += `<pre>${JSON.stringify(data3, null, 2)}</pre>`
        } catch (error) {
          resultsDiv.innerHTML = `<p style="color: red;">Error: ${error.message}</p>`
        }
      }

      // Run test when page loads
      testPagination()
    </script>
  </body>
</html>
